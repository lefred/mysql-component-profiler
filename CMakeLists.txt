DISABLE_MISSING_PROFILE_WARNING()

INCLUDE_DIRECTORIES(SYSTEM)
SET(RAPIDJSON_INCLUDE_DIR ${CMAKE_SOURCE_DIR}/extra/rapidjson/include)
SET(CMAKE_REQUIRED_INCLUDES ${RAPIDJSON_INCLUDE_DIR})

MYSQL_ADD_COMPONENT(profiler
  profiler.cc
  MODULE_ONLY
  TEST_ONLY
)

MYSQL_ADD_COMPONENT(profiler_cpu
  cpu.cc
  MODULE_ONLY
  TEST_ONLY
  #  LINK_LIBRARIES profiler
)

MYSQL_ADD_COMPONENT(profiler_memory
  memory.cc
  MODULE_ONLY
  TEST_ONLY
  #  LINK_LIBRARIES tcmalloc
)
